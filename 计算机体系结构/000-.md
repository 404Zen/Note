
# 堆与栈
堆和栈，是两种数据结构，堆栈都是一种数据项按序排列的数据结构，只能在一端(称为栈顶(top))对数据项进行插入和删除。在单片机应用中，堆栈是个特殊的存储区，主要功能是暂时地存放数据和地址，通常用来保护断点和现场。
**堆：队列优先，先进先出(FIFO)。
栈：先进后出，(FILO)**

一般情况下，如果有人把堆和栈合起来说，那他的意思是栈，不是堆。

## 堆栈空间分配
堆：一般由程序员分配释放，若程序员不释放，程序结束时可能由OS回收，分配方式类似于链表。
栈：由操作系统自动分配释放，存放函数的参数值，局部变量的值等，其操作方式类似于数据结构中的栈。

## 堆栈缓存方式
堆存放在**二级缓存中**，生命周期由虚拟机的垃圾回收算法来决定(并不是一旦成为孤儿对象就能被回收)。所以调用这些对象的速度相对来得低一些。
栈使用的是**一级缓存**，他们通常都是被调用时处于存储空间中，调用完毕立即释放。

## 堆栈的数据结构的区别
堆：可以看成是一棵树，如：堆排序。
栈：一种先进后出的数据结构。